# Funciones básicas de R

En este capítulo se presentarán algunas funciones básicas y útiles de \proglang{R} para realizar diversas tareas.

## Operadores de asignación \index{asignación}
En \proglang{R} se pueden hacer asignación de varias formas, a continuación se presentan los operadores disponibles para tal fin.

- `<-`: este es el operador de asignación a izquierda, es el más usado y recomendado.
- `->`: este es el operador de asignación a derecha, no es frecuente su uso.
- `=`: el símbolo igual sirve para hacer asignaciones pero __NO__ se recomienda usarlo.
- `<<-`: este es un operador de asignación global y sólo debe ser usado por usuarios avanzados.

### Ejemplo {-}
Almacene los valores 5.3, 4.6 y 25 en los objetos `a`, `b` y `age` respectivamente, use diferentes símbolos de asignación.

Para hacer lo solicitado se podría usar el siguiente código.

```{r}
a <- 5.3 # Recomended
4.6 -> b # It is not usual
age = 25 # Not recomended
```

## Operaciones básicas \index{operaciones básicas}
En \proglang{R} se pueden hacer diversas operaciones usando operadores binarios. Este tipo de operadores se denomina binarios porque actuan entre dos objetos, a continuación el listado.

- `+`: operador binario para sumar.
- `-`: operador binario para restar.
- `*`: operador binario para multiplicar.
- `/`: operador binario para dividir.
- `^`: operador binario para potencia.
- `%/%`: operador binario para obtener el cociente en una división (número entero).
- `%%`: operador binario para obtener el residuo en una división.


A continuación se presentan ejemplos de cómo usar las anteriores funciones.

```{r}
6 + 4  # Para sumar dos números
a <- c(1, 3, 2)
b <- c(2, 0, 1)  # a y b de la misma dimensión
a + b  # Para sumar los vectores a y b miembro a miembro
a - b  # Para restar dos vectores a y b miembro a miembro
a * b  # Para multiplicar
a / b  # Para dividir
a ^ b  # Para potencia
7 %/% 3  # Para saber las veces que cabe 3 en 7
7 %% 3  # Para saber el residuo al dividir 7 entre 3
```

## Pruebas lógicas \index{pruebas lógicas}
En \proglang{R} se puede verificar si un objeto cumple una condición dada, a continuación el listado de las pruebas usuales.

- `<`: para saber si un número es menor que otro.
- `>`: para saber si un número es mayor que otro.
- `==`: para saber si un número es igual que otro.
- `<=`: para saber si un número es menor o igual que otro.
- `>=`: para saber si un número es mayor o igual que otro.

A continuación se presentan ejemplos de cómo usar las anteriores funciones.

```{r}
5 < 12  # ¿Será 5 menor que 12?
# Comparando objetos
x <- 5
y <- 20 / 4
x == y  # ¿Será x igual a y?
# Usando vectores
a <- c(1, 3, 2)
b <- c(2, 0, 1)
a > b  # Comparación término a término
a == b  # Comparación de igualdad término a término
```

### Ejemplo {-}
Crear un vector con los números de 1 a 17 y extrater los números que son mayores o iguales a 12.

Primero se crear el vector `x` con los elementos del 1 al 17. La prueba lógica `x >= 12` se usa para evaluar la condición, el resultado es un vector de 17 posiciones con valores de `TRUE` o `FALSE` dependiendo de si la condición se cumple o no. Este vector lógico se coloca dentro de `x[ ]` para que al evaluar `x[x >= 12]` sólo aparezcan los valores del vector original que SI cumplen la condición. El código necesario se muestra a continuación.

```{r}
x <- 1:17  # Se crea el vector
x[x >= 12]  # Se solicitan los valores que cumplen la condición
```


## Operadores lógicos \index{operadores lógicos}
En \proglang{R} están disponibles los operadores lógicos negación, conjunción y disyunción. A continuación el listado de los operadores entre los elementos `x` e `y`.

```{r, eval=F}
!x  # Negación de x
x & y  # Conjunción entre x e y
x && y
x | y  # Disyunción entre x e y
x || y
xor(x, y)
```

A continuación se presentan ejemplos de cómo usar el símbolo de negación `!`.

```{r}
ans <- c(TRUE, FALSE, TRUE)
!ans  # Negando las respuestas almacenadas en ans
x <- c(5, 1.5, 2, 3, 2)
!(x < 2.5)  # Negando los resultados de una prueba
```

A continuación se presentan ejemplos de cómo aplicar la conjunción `&` y `&&`.

```{r}
x <- c(5, 1.5, 2)  # Se construyen dos vectores para la prueba
y <- c(4, 6, 3)

x < 4  # ¿Serán los elementos de x menores que 4?
y > 5  # ¿Serán los elementos de y mayores que 5?
x < 4 & y > 5  # Conjunción entre las pruebas anteriores.
x < 4 && y > 5  # Conjunción vectorial
```

Note las diferencias entre los dos últimos ejemplos, cuando se usa `&` se hace una prueba término a término y el resultado es un vector, cuando se usa `&&` se aplica la conjunción al vector de resultados obtenido con `&`.

## Funciones sobre vectores
En \proglang{R} podemos destacar las siguientes funciones básicas sobre vectores numéricos.

- `min`: para obtener el mínimo de un vector.
- `max`: para obtener el máximo de un vector.
- `length`: para determinar la longitud de un vector.
- `range`: para obtener el rango de valores de un vector, entrega el mínimo y máximo.
- `sum`: entrega la suma de todos los elementos del vector.
- `prod`: multiplica todos los elementos del vector.
- `which.min`: nos entrega la posición en donde está el valor mínimo del vector.
- `which.max`: nos da la posición del valor máximo del vector.

### Ejemplo {-}
Construir en vector llamado `myvec` con los siguientes elementos: 5, 3, 2, 1, 2, 0, NA, 0, 9, 6. Luego aplicar todas las funciones anteriores para verificar el funcionamiento de las mismas.

```{r}
myvec <- c(5, 3, 2, 1, 2, 0, NA, 0, 9, 6)
myvec

min(myvec)  # Opss, no aparece el mínimo que es Cero.
min(myvec, na.rm=TRUE)  # Usamos na.rm = TRUE para remover el NA
max(myvec, na.rm=T)  # Para obtener el valor máximo
range(myvec, na.rm=T)  # Genera min y max simultáneamente
sum(myvec, na.rm=T)  # La suma de los valores internos
prod(myvec, na.rm=T)  # El productor de los valores internos
which.min(myvec)  # Posición del valor mínimo 0 en el vector
which.max(myvec)  # Posición del valor máximo 9 en el vector
```

De las dos últimas líneas podemos destacar lo siguiente:

1. __NO es necesario__ usar `na.rm = TRUE` para remover el `NA` dentro de las funciones `which.min` ni `which.max`.
2. El valor mínimo 0 aparece en las posiciones 6 y 8 pero la función `which.min` sólo entrega la posición del primer valor mínimo dentro del vector.


## EJERCICIOS {-}
Use funciones o procedimientos (varias líneas) de \proglang{R} para responder cada una de las siguientes preguntas.

\begin{enumerate}
 \item ¿Qué cantidad de dinero sobra al repartir 10000\$ entre 3 personas?
 \item ¿Es el número 4560 divisible por 3?
 \item Construya un vector con los números enteros del 2 al 87. ¿Cuáles de esos números son divisibles por 7?
 \item Construya dos vectores, el primero con los números enteros desde 7 hasta 3, el segundo vector con los primeros cinco números positivos divisibles por 5. Sea A la condición de ser par en el primer vector. Sea B la condición de ser mayor que 10 en el segundo vector. ¿En cuál de las 5 posiciones se cumple A y B simultáneamente?
 \item Construya un vector con los siguientes elementos: 1, -4, 5, 9, -4. Escriba un procedimiento para extraer las posiciones donde está el valor mínimo en el vector.
\end{enumerate}




















